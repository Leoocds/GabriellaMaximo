<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gabriella M√°ximo - Sal√£o de Beleza Premium</title>
  <meta name="description"
    content="Experi√™ncia premium em cuidados de beleza. Um momento exclusivo dedicado a voc√™, com eleg√¢ncia e sofistica√ß√£o." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/css/style.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      lucide.createIcons();
    });
  </script>
</head>

<body>
  <%- include('partials/header') %>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-overlay"></div>
      <div class="container">
        <div class="hero-grid">
          <div class="hero-content">
            <div class="hero-badge">
              <span>‚ú®</span>
              <span>Beleza Premium</span>
            </div>

            <h1 class="hero-title">
              Sua Beleza,<br />
              <span class="hero-title-gradient">Nossa Paix√£o</span>
            </h1>

            <p class="hero-description">
              Experi√™ncia premium em cuidados de beleza. Um momento exclusivo
              dedicado a voc√™, com eleg√¢ncia e sofistica√ß√£o.
            </p>

            <div class="hero-buttons">
              <a href="#agendamento" class="btn btn-primary">Agendar Hor√°rio</a>
              <a href="#servicos" class="btn btn-secondary">Nossos Servi√ßos</a>
            </div>
          </div>

          <div class="hero-image">
            <div class="hero-image-glow"></div>
            <img src="/images/GabriellaMaximo.jpg" alt="Sal√£o de beleza elegante" />
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section id="servicos" class="services">
      <div class="container">
        <div class="section-header">
          <h2>Nossos Servi√ßos</h2>
          <p>
            Descubra nossa sele√ß√£o premium de tratamentos de beleza,
            cuidadosamente elaborados para real√ßar sua eleg√¢ncia natural.
          </p>
        </div>

        <div class="services-grid">
          <div class="service-card">
            <div class="service-icon">‚úÇÔ∏è</div>
            <h3>Cabelo</h3>
            <p>
              Cortes, colora√ß√µes, tratamentos e penteados exclusivos para
              real√ßar sua beleza natural.
            </p>
            <ul>
              <li>‚Ä¢ Corte e Escova</li>
              <li>‚Ä¢ Colora√ß√£o Premium</li>
              <li>‚Ä¢ Hidrata√ß√£o Profunda</li>
              <li>‚Ä¢ Tratamentos Capilares</li>
            </ul>
          </div>

          <div class="service-card">
            <div class="service-icon">üíÖ</div>
            <h3>Unha</h3>
            <p>
              Manicure e pedicure impec√°veis, com t√©cnicas modernas e produtos
              de alta qualidade.
            </p>
            <ul>
              <li>‚Ä¢ Manicure Completa</li>
              <li>‚Ä¢ Pedicure SPA</li>
              <li>‚Ä¢ Unhas em Gel</li>
              <li>‚Ä¢ Nail Art Personalizada</li>
            </ul>
          </div>

          <div class="service-card">
            <div class="service-icon">üëÅÔ∏è</div>
            <h3>C√≠lios</h3>
            <p>
              Design de sobrancelhas e extens√£o de c√≠lios para um olhar marcante
              e expressivo.
            </p>
            <ul>
              <li>‚Ä¢ Volume Brasileiro</li>
              <li>‚Ä¢ Volume Eg√≠pcio</li>
              <li>‚Ä¢ Volume Glamour </li>
              <li>‚Ä¢ Volume Luxo</li>
              <li>‚Ä¢ Volume Russo</li>
              <li>‚Ä¢ Fox Eyes</li>
              <li>‚Ä¢ Manuten√ß√£o</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Booking Section -->
    <section id="agendamento" class="booking">
      <div class="container">
        <div class="booking-wrapper">
          <div class="section-header">
            <h2>Agende sua experi√™ncia</h2>
            <p>
              Reserve seu hor√°rio e desfrute de um momento exclusivo de cuidado
              e beleza.
            </p>
          </div>

          <% if (success) { %>
            <div class="success-message">
              ‚úì Agendamento realizado com sucesso! Entraremos em contato em breve.
            </div>
            <% } %>
              <% if (typeof error !=='undefined' ) { %>
                <div class="error-message">‚úó <%= error %>
                </div>
                <% } %>

                  <form class="booking-form">
                    <div class="form-group icon-input">
                      <label for="nome"><i data-lucide="user"></i>
                        Nome Completo</label>
                      <input type="text" id="nome" name="nome" required />
                    </div>

                    <div class="form-group icon-input">
                      <label for="celular"><i data-lucide="phone"></i>Telefone</label>
                      <input type="tel" id="celular" name="celular" placeholder="(11) 99999-9999" required />
                    </div>

                    <div class="form-group icon-input">
                      <label for="tipo_servico"><i data-lucide="scissors"></i>Tipo de Servi√ßo</label>
                      <select id="tipo_servico" name="tipo_servico" required>
                        <option value="">Selecione...</option>
                        <option value="cabelo">Cabelo</option>
                        <option value="unha">Unha</option>
                        <option value="cilios">C√≠lios</option>
                      </select>
                    </div>

                    <div class="form-group icon-input">
                      <label for="servico"><i data-lucide="star"></i>Servi√ßo Espec√≠fico</label>
                      <select id="servico" name="servico" required>
                        <option value="">Primeiro selecione o tipo</option>
                      </select>
                    </div>

                    <div class="form-row">
                      <div class="form-group icon-input">
                        <label for="data"><i data-lucide="calendar"></i>Data</label>
                        <input type="date" id="data" name="data" required />
                      </div>

                      <div class="form-group icon-input">
                        <label for="hora"><i data-lucide="clock"></i>Hor√°rio</label>
                        <input type="time" id="hora" name="hora" required />
                      </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                      Confirmar Agendamento
                    </button>
                  </form>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contato" class="contact">
      <div class="container">
        <div class="contact-wrapper">
          <h2>Visite-nos</h2>
          <p>
            Estamos localizados no cora√ß√£o de S√£o Paulo, prontos para receb√™-la
            em um ambiente elegante e acolhedor.
          </p>

          <div class="contact-grid">
            <div class="contact-item">
              <h3>Telefone</h3>
              <p>(11) 99999-9999</p>
            </div>

            <div class="contact-item">
              <h3>Email</h3>
              <p>contato@gabriellamaximo.com</p>
            </div>

            <div class="contact-item">
              <h3>Endere√ßo</h3>
              <p>S√£o Paulo, SP</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <%- include('partials/footer') %>

      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script>
        const servicos = <%- JSON.stringify(servicos) %>;

        document.getElementById('tipo_servico').addEventListener('change', function () {
          const tipo = this.value;
          const selectServico = document.getElementById('servico');

          selectServico.innerHTML = '<option value="">Selecione...</option>';

          if (tipo && servicos[tipo]) {
            servicos[tipo].forEach((s) => {
              const option = document.createElement('option');
              option.value = s;
              option.textContent = s;
              selectServico.appendChild(option);
            });
          }
        });

        const select = document.getElementById("hora");
        for (let hour = 9; hour <= 20; hour++) {
          for (let min of ["00", "30"]) {
            const time = `${String(hour).padStart(2, "0")}:${min}`;
            const option = document.createElement("option");
            option.value = time;
            option.textContent = time;
            select.appendChild(option);
          }
        }

        const dateInput = document.getElementById("data");
        const today = new Date().toISOString().split("T")[0];
        dateInput.min = today;

        document.getElementById('celular').addEventListener('input', function (e) {
          let value = e.target.value.replace(/\D/g, '');
          if (value.length > 11) value = value.slice(0, 11);

          if (value.length > 6) {
            value = `(${value.slice(0, 2)}) ${value.slice(2, 7)}-${value.slice(7)}`;
          } else if (value.length > 2) {
            value = `(${value.slice(0, 2)}) ${value.slice(2)}`;
          } else if (value.length > 0) {
            value = `(${value}`;
          }

          e.target.value = value;
        });

        document.querySelector("form").addEventListener("submit", async (e) => {
          e.preventDefault();

          const form = e.target;
          const data = new FormData(form);
          const obj = Object.fromEntries(data.entries());

          const response = await fetch("/agendar", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(obj),
          });

          const result = await response.json();
          if (result.success) {
            Swal.fire("Sucesso!", result.message, "success");
          } else {
            Swal.fire("Erro!", result.message, "error");
          }

          if (result.success) form.reset();

          lucide.createIcons();
        });
      </script>
</body>

</html>
